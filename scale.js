function round5(e){return e%5>=2.5?5*parseInt(e/5)+5:5*parseInt(e/5)}function round10(e){return e%10>=5?10*parseInt(e/10)+10:10*parseInt(e/10)}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var orgValinstru,yld,orgVal=Array,scaled=Array;function loadRecipe(){yld=document.getElementsByClassName("ccm-yield"),yld=String(yld[0].innerHTML.match(/[.0-9]+/gm)),document.getElementById("scale").value=yld;var e=document.getElementsByClassName("ingredients");orgVal=e[0].innerHTML;var n=document.getElementsByClassName("instructions");orgValinstru=n[0].innerHTML}function resetRecipe(){document.getElementsByClassName("ingredients")[0].innerHTML=orgVal,document.getElementsByClassName("instructions")[0].innerHTML=orgValinstru;var e=document.getElementsByClassName("ccm-yield"),n=e[0].innerHTML.match(/[.0-9]+/gm),t=e[0].innerHTML.replace(n,yld);e[0].innerHTML=t}function imp(){var e=document.getElementsByClassName("ingredients"),n=document.getElementsByClassName("instructions");if(0==document.getElementById("myonoffswitch").checked){n[0].innerHTML;var t=n[0].innerHTML,s=e[0].innerHTML,l=s.match(/[.0-9]+g/gm),r=s;if(null!=l)for(var i=0;i<l.length;i++){var a=((o=String(l[i])).substring(0,o.length-1)/28.35).toFixed(0)+"oz";r=r.replace(o,a)}if(null!=(l=s.match(/[.0-9]+kg/gm)))for(i=0;i<l.length;i++){a=(2.205*(o=String(l[i])).substring(0,o.length-2)).toFixed(1)+"lb";r=r.replace(o,a)}if(e[0].innerHTML=r,null!=(l=s.match(/[.0-9]+ml/gm)))for(i=0;i<l.length;i++){a=((o=String(l[i])).substring(0,o.length-2)/29.574).toFixed(1)+"fl oz";r=r.replace(o,a)}if(e[0].innerHTML=r,null!=(l=s.match(/[.0-9]+l/gm)))for(i=0;i<l.length;i++){a=((o=String(l[i])).substring(0,o.length-1)/4.546).toFixed(1)+"gal";r=r.replace(o,a)}e[0].innerHTML=r;var g=t.match(/[.0-9]+\sCelsius/gim);if(null!=g)for(i=0;i<g.length;i++){var o;a=(1.8*(o=String(g[i])).substring(0,o.length-8)+32).toFixed(0)+" Fahrenheit";n[0].innerHTML=n[0].innerHTML.replace(o,a)}}else resetRecipe(),scaleRecipe()}function scaleRecipe(){var e=document.getElementsByClassName("ingredients"),n=document.getElementById("scale"),t=document.getElementById("myonoffswitch").checked;if(n.value==yld)resetRecipe(),0==t&&imp();else{for(var s=orgVal,l=orgVal.match(/(?<=\>)(.*?)(?=\<)/gm),r=Array,i=3;i<l.length;i++){var a=l[i].match(/[.0-9]+/gm),g=l[i].match(/(?=[.0-9]+\s+[.0-9]+)[.0-9]/gm);if(r[i]=void 0,null!=a)for(var o=0;o<a.length;o++){var c=escapeRegExp(String(a[o])),m=a[o]/yld*n.value,u=new RegExp(c+"\\stablespoons|"+c+"\\seggs|"+c+"\\steaspoons|"+c+"\\scups|"+c+"\\scup|"+c+"\\s|"+c+"+[a-z]|"+c+"\\)","mi"),d=String(l[i].match(u)),h=new RegExp("[g]","mgi"),f=new RegExp("teaspoon","mgi"),p=new RegExp("tablespoon","mgi"),M=new RegExp("egg","mgi"),y=new RegExp("[k]","mgi"),v=new RegExp("[l]","mgi"),E=new RegExp("[m]","mi"),L=new RegExp("cups","mgi");if(M.test(d))if(m==Math.floor(m))var b=m+" eggs";else if(m<1.5)b=Math.floor(m)+" egg";else b=Math.ceil(m)+" eggs";else if(h.test(d))if(m<=5)b=Math.trunc((m=Math.ceil(m)))+d.substring(d.length-1);else b=(m=round5(m))+d.substring(d.length-1);else if(f.test(d))if(m==Math.floor(m))b=m+" teaspoons";else if((m=Math.round(2*m)/2)<1)b=m+" teaspoon";else b=m+" teaspoons";else if(p.test(d))if(m==Math.floor(m))b=m+" tablespoons";else if((m=Math.round(2*m)/2)<1)b=m+" tablespoon";else b=m+" tablespoons";else if(E.test(d))b=(m=round5(m))+d.substring(d.length-1);else if(L.test(d)){var H=m;if(H<.25){m=Math.floor(4*m);b=(H=round10(H=250*(H-(m/=4)))/20)+" tablespoons"}else{m=Math.floor(4*m),H=250*(H-(m/=4))/20;var T=m-Math.trunc(m);if(T=.75==T?"3/4":.25==T?"1/4":.5==T?"1/2":"","0"!=Math.trunc(m))if(1==Math.trunc(m)&&""==T)b=Math.trunc(m)+" "+T+" cup";else b=Math.trunc(m)+" "+T+" "+d.substring(d.length-4);else b=T+" "+d.substring(d.length-4)}}else if(v.test(d))if(m<1){d=d.slice(0,-1);b=(m=round5(m*=1e3))+"ml"}else b=(m=m.toFixed(1))+d.substring(d.length-1);else if(y.test(d))if(m<1){d=d.slice(0,-1);b=m=round5(m*=1e3)}else b=m+d.substring(d.length-1);else b=Math.round(2*m)/2+d.substring(d.length-1);null!=r[i]?r[i]=r[i].replace(d,b):r[i]=l[i].replace(u,b),null!=g&&o++}else r[i]=l[i]}for(i=3;i<l.length;i++)s=s.replace(String(l[i]),String(r[i]));var R=document.getElementsByClassName("ccm-yield"),x=R[0].innerHTML.match(/[.0-9]+/gm),B=R[0].innerHTML.replace(x,n.value);R[0].innerHTML=B,e[0].innerHTML=s,r=void 0,0==t&&imp()}}window.Squarespace.onInitialize=loadRecipe();
